"use strict";(self["webpackChunktorrent4u"]=self["webpackChunktorrent4u"]||[]).push([[569],{7284:function(t,e,a){a.r(e),a.d(e,{default:function(){return Y}});var s=a(3396),n=a(9242),i=a(7139),o=a.p+"img/img_avatar2.f53ff370.png";const l=t=>((0,s.dD)("data-v-73c7dce4"),t=t(),(0,s.Cn)(),t),r={class:"Admin"},c={class:"header sticky"},d={class:"content"},u={key:0,class:"login-page"},g=l((()=>(0,s._)("div",{class:"imgcontainer"},[(0,s._)("img",{src:o,alt:"Avatar",class:"avatar"})],-1))),h={class:"container"},p=l((()=>(0,s._)("label",{for:"uname"},[(0,s._)("b",null,"Username")],-1))),m=l((()=>(0,s._)("label",{for:"psw"},[(0,s._)("b",null,"Password")],-1))),w={style:{display:"block"}},_={key:0,class:"small-loader",style:{float:"right"}},k=l((()=>(0,s._)("label",null,[(0,s._)("input",{type:"checkbox",checked:"checked",name:"remember"}),(0,s.Uk)(" Remember me ")],-1))),b={class:"container",style:{"background-color":"#f1f1f1"}},v=l((()=>(0,s._)("button",{class:"cancelbtn"},"Cancel",-1))),y=l((()=>(0,s._)("span",{class:"psw"},[(0,s.Uk)("Forgot "),(0,s._)("a",{href:"#"},"password?")],-1))),f={key:1},D={class:"tab"},L=l((()=>(0,s._)("p",{class:"tab-p"},"User details",-1))),U=[L],C=l((()=>(0,s._)("p",{class:"tab-p"},"Search details",-1))),N=[C],S={key:0,class:"loader"},V={key:1},I={key:0,class:"tabcontent"},q=l((()=>(0,s._)("p",null,"User details",-1))),z={id:"customers"},R=l((()=>(0,s._)("tr",null,[(0,s._)("th",null,"IP"),(0,s._)("th",null,"Access time"),(0,s._)("th",null,"Location"),(0,s._)("th",null,"Network"),(0,s._)("th",null,"City")],-1))),T={key:1,class:"tabcontent"},Z=l((()=>(0,s._)("p",null,"Search details",-1))),j={id:"customers"},E=l((()=>(0,s._)("tr",null,[(0,s._)("th",null,"IP"),(0,s._)("th",null,"Query")],-1)));function H(t,e,a,o,l,L){const C=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",r,[(0,s._)("div",c,[(0,s._)("nav",null,[(0,s.Wm)(C,{to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)("Home | ")])),_:1}),(0,s.Wm)(C,{to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("Login")])),_:1}),l.isNotVerified?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"logout-btn",onClick:e[0]||(e[0]=t=>L.logout())},"Logout"))])])]),(0,s._)("div",d,[L.isVerified()?((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("form",{onClick:e[4]||(e[4]=(0,n.iM)(((...e)=>t.onSubmit&&t.onSubmit(...e)),["prevent"]))},[g,(0,s._)("div",h,[p,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.username=t),type:"text",placeholder:"Enter Username",name:"uname",required:""},null,512),[[n.nr,l.username]]),m,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.password=t),type:"password",placeholder:"Enter Password",name:"psw",required:""},null,512),[[n.nr,l.password]]),(0,s._)("div",w,[(0,s._)("button",{class:"login-btn",type:"submit",onClick:e[3]||(e[3]=t=>L.attemptLogin())},[(0,s.Uk)("Login "),l.attemptLoginloading?((0,s.wg)(),(0,s.iD)("div",_)):(0,s.kq)("",!0)])]),k]),(0,s._)("div",b,[(0,s.Wm)(C,{to:"/"},{default:(0,s.w5)((()=>[v])),_:1}),y])])])):((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("div",D,[(0,s._)("button",{class:(0,i.C_)(["tablinks",{active:L.tabcontent("userDetails")}]),onClick:e[5]||(e[5]=t=>L.select("userDetails"))},U,2),(0,s._)("button",{class:(0,i.C_)(["tablinks",{active:L.tabcontent("searchDetails")}]),onClick:e[6]||(e[6]=t=>L.select("searchDetails"))},N,2)]),L.isLoading()?((0,s.wg)(),(0,s.iD)("div",S)):((0,s.wg)(),(0,s.iD)("div",V,[L.tabcontent("userDetails")?((0,s.wg)(),(0,s.iD)("div",I,[q,(0,s._)("table",z,[R,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.userData,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t._id},[(0,s._)("td",null,(0,i.zw)(t.ip),1),(0,s._)("td",null,(0,i.zw)(t.time),1),(0,s._)("td",null,(0,i.zw)(t.loc),1),(0,s._)("td",null,(0,i.zw)(t.org),1),(0,s._)("td",null,(0,i.zw)(t.city),1)])))),128))])])):(0,s.kq)("",!0),L.tabcontent("searchDetails")?((0,s.wg)(),(0,s.iD)("div",T,[Z,(0,s._)("table",j,[E,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.searchData,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t._id},[(0,s._)("td",null,(0,i.zw)(t.ip),1),(0,s._)("td",null,(0,i.zw)(t.searchText),1)])))),128))])])):(0,s.kq)("",!0)]))]))])],64)}a(560);var P=a(1076),x={name:"LoginView",data(){return{serverURL:"https://torrent4you.onrender.com/",userData:[],searchData:[],tabName:null,loading:!1,username:null,password:null,isNotVerified:!1,attemptLoginloading:!1}},async created(){const t=window.localStorage.getItem("devil-session-token");t?await this.login():this.isNotVerified=!0},methods:{logout(){window.localStorage.removeItem("devil-session-token"),this.isNotVerified=!0},isVerified(){return this.isNotVerified},isLoading(){return this.loading},async attemptLogin(){this.attemptLoginloading=!0,await P.Z.post(this.serverURL+"login",{username:this.username,password:this.password},{headers:{"Content-Type":"application/json"}}).then((async t=>{const e=t.data,a=e[0];window.localStorage.setItem("devil-session-token",a.token),await this.login(),this.attemptLoginloading=!1})).catch((function(t){t.response?console.log(t.response.headers):t.request?console.log(t.request):console.log(t.message),this.attemptLoginloading=!1}))},async login(){this.loading=!0;const t=window.localStorage.getItem("devil-session-token");t?await P.Z.post(this.serverURL+"check-token",{token:t},{headers:{"Content-Type":"application/json"}}).then((async()=>{this.isNotVerified=!1,this.tabName="userdetails",await this.getItems(),this.loading=!1})).catch((()=>{this.isNotVerified=!0})):await this.attemptLogin(),this.loading=!1},async getItems(){await this.getSearchData(),await this.getUserData(),this.tabName="userDetails"},async getUserData(){const t=window.localStorage.getItem("devil-session-token");await P.Z.post(this.serverURL+"get-user-info",{token:t},{headers:{"Content-Type":"application/json"}}).then((t=>{const e=t.data;e.forEach((t=>{this.userData.push(t)}))}))},async getSearchData(){const t=window.localStorage.getItem("devil-session-token");await P.Z.post(this.serverURL+"get-search-info",{token:t},{headers:{"Content-Type":"application/json"}}).then((t=>{const e=t.data;e.forEach((t=>{this.searchData.push(t)}))}))},select(t){this.tabName=t},tabcontent(t){return this.tabName===t}}},A=a(89);const W=(0,A.Z)(x,[["render",H],["__scopeId","data-v-73c7dce4"]]);var Y=W}}]);
//# sourceMappingURL=569.fb1453bc.js.map